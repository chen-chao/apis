'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_fs=require('fs'),_fs2=_interopRequireDefault(_fs),_health_pb=require('../health/v1/health_pb'),_health_pb2=_interopRequireDefault(_health_pb),_health_grpc_pb=require('../health/v1/health_grpc_pb'),_health_grpc_pb2=_interopRequireDefault(_health_grpc_pb),_translation_pb=require('../translation/v1/translation_pb'),_translation_pb2=_interopRequireDefault(_translation_pb),_translation_grpc_pb=require('../translation/v1/translation_grpc_pb'),_translation_grpc_pb2=_interopRequireDefault(_translation_grpc_pb);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var grpc=require('grpc'),client=function(){function a(b,c,d){_classCallCheck(this,a),this.creds=grpc.credentials.createSsl(_fs2.default.readFileSync(b),_fs2.default.readFileSync(c),_fs2.default.readFileSync(d)),this.endpoint='production'===process.env.NODE_ENV?'apis.sagittarius.ai:8443':'apis.stage.sagittarius.ai:8443'}return _createClass(a,[{key:'mediaTranslate',value:function mediaTranslate(a){var b=this;return new Promise(function(c,d){var e=new _translation_grpc_pb2.default.TranslationClient(b.endpoint,b.creds),f=new _translation_pb2.default.MediaTranslationRequest;f.setMediaIdentity(a),e.translateMedia(f,function(a,b){a?d(a):c(b)})})}},{key:'getTranscript',value:function getTranscript(a){var b=this;return new Promise(function(c,d){var e=new _translation_grpc_pb2.default.TranslationClient(b.endpoint,b.creds),f=new _translation_pb2.default.TranscriptRequest;f.setTranscriptIdentity(a),e.transcript(f,function(a,b){a?d(a):c(b)})})}},{key:'healthCheck',value:function healthCheck(){var a=this;return new Promise(function(b,c){var d=new _health_grpc_pb2.default.HealthClient(a.endpoint,a.creds);d.check(new _health_pb2.default.HealthCheckRequest,function(a,d){a?c(a):b(d.getStatus())})})}}]),a}();exports.default=client;